import dedent from 'ts-dedent';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { Checkbox } from '@/polaris-vue';

<Meta
  title="Components / Forms / Checkbox"
  component={ Checkbox }
  argTypes={{
    checked: {
      control: {
        type: 'text',
      },
      table: {
        type: {
          summary: 'string | "indeterminate"',
        }
      },
    },
    error: {
      control: {
        type: 'text',
      },
      table: {
        type: {
          summary: 'string | boolean',
        },
      },
    },
    blur: {
      description: 'Callback when focus is removed',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: '() => void',
        },
      },
    },
    change: {
      description: 'Callback when checkbox is toggled',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: '(event: Event) => void',
        },
      },
    },
    propLabel: {
      name: 'label',
      description: 'Label for the checkbox. This will be overridden by `label` slot.',
      control: {
        type: 'text',
      },
      table: {
        category: 'props',
        type: {
          summary: 'string',
        },
      },
    },
    modelValue: {
      description: 'v-model is available for this component, string type should be used with multiple checkbox',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: 'boolean | string',
        },
      },
    },
    value: {
      table: {
        disable: true,
      },
    },
    focus: {
      description: 'Callback when checkbox is focused',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: '() => void',
        },
      },
    },
    'update:modelValue': {
      table: {
        disable: true,
      },
    },
    'help-text': {
      description: 'Additional text to aide in use',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: null,
        },
      },
    },
    'label': {
      description: 'Label for the checkbox',
      control: {
        disable: true,
      },
      table: {
        type: {
          summary: null,
        },
      },
    },
    default: {
      table: {
        disable: true,
      },
    },
  }}
/>

export const Template = (args) => ({
  components: { Checkbox },
  setup() { return { args }; },
  template: `
  <div>
    <Checkbox label="Basic Label" helpText="Basic help text" v-model="checkboxValue"/>
    <Checkbox v-bind="args" v-model="isChecked">
      <template #label>Dynamic checkbox label</template>
      <template #help-text>Dynamic help text</template>
    </Checkbox>
    <p style="margin-top: 30px">Checked: {{ isChecked }} </p>
  </div>`,
  data() {
    return {
      isChecked: false,
      checkboxValue: false,
    };
  },
});
Template.parameters = {
  docs: {
    source: {
      code: dedent`
        <div>
          <Checkbox label="Basic Label" helpText="Basic help text" v-model="checkboxValue"/>
          <Checkbox v-model="isChecked">
            <template #label>Dynamic checkbox label</template>
            <template #help-text>Dynamic help text</template>
          </Checkbox>
          <p>Checked: {{ isChecked }} </p>
        </div>
      `,
    },
  },
};

# Checkbox

Checkboxes are most commonly used to give merchants a way to make a range of selections (zero, one, or multiple).
They may also be used as a way to have merchants indicate they agree to specific terms and services.

<Canvas>
  <Story story={Template} name="Checkbox"></Story>
</Canvas>

<ArgsTable story="Checkbox"/>

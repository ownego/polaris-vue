import dedent from 'ts-dedent';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { PageActions } from '@/polaris-vue';

<Meta
  title="Components / Structure / Page actions"
  component={ PageActions }
  argTypes={{
    secondaryActions: {
      table: { type: { summary: 'ComplexAction[]' } },
      control: {
        disable: true,
      },
    },
    primaryAction: {
      description: 'The primary action for the page',
      table: {
        category: 'props',
        type: { summary: 'DisableableAction && LoadableAction' }
      },
      control: {
        disable: true,
      },
    },
    slotPrimaryAction: {
      name: 'primaryAction',
      description: 'The primary action for the page. This slot will override the primaryAction prop',
      table: {
        category: 'slots',
        type: { summary: null },
      },
    }
  }}
/>

export const Template = (args) => ({
  components: { PageActions },
  setup() {
    const handleClick = () => {
      console.log('click');
    };
    return { args, handleClick };
  },
  template: `
    <PageActions
      :primaryAction="{ content: 'Save', onClick: handleClick }"
      :secondaryActions="[{ content: 'Delete', destructive: true, onClick: handleClick  }, { content: 'Clear', disabled: true }]"
    />
  `,
});

# Page Actions

Page actions let merchants take key actions at the bottom of specific pages in the interface. This is important because sometimes the primary call to action is hard to access when merchants are at the bottom of a page.

<Canvas>
  <Story
    name="Page actions"
    height="100px"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <PageActions
              :primaryAction="{ content: 'Save', onClick: handleClick }"
              :secondaryActions="[{ content: 'Delete', destructive: true, onClick: handleClick  }, { content: 'Clear', disabled: true }]"
            />\n
            <script setup>
              const handleClick = () => {
                console.log('click');
              };
            </script>
          `,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Page actions" />

---

<br/>

### **DisableableAction & LoadableAction**

| Prop             | Type                          | Description     |
| ---------------- | ----------------------------- | --------------- |
| id?              | String       | A unique identifier for the action. |
| content?         | String       | Content the action displays. |
| accessibilityLabel?  | String  | Visually hidden text for screen readers. |
| url?             | String       | A destination to link to, rendered in the action. |
| external?        | String       | Forces url to open in a new tab. |
| disabled?        | Boolean      | Whether or not the action is disabled. |
| loading?         | Boolean      | Should a spinner be displayed. |
| onAction?()      | void         | Callback when an action takes place. |
| onMouseEnter?()  | void         | Callback when mouse enter. |
| onTouchStart?()  | void         | Callback when element is touched. |

<br/>

### **ComplexAction types**

| Prop             | Type                          | Description     |
| ---------------- | ----------------------------- | --------------- |
| id?              | String       | A unique identifier for the action. |
| content?         | String       | Content the action displays. |
| accessibilityLabel?  | String  | Visually hidden text for screen readers. |
| url?             | String       | A destination to link to, rendered in the action. |
| external?        | String       | Forces url to open in a new tab. |
| destructive?     | Boolean      | Destructive action. |
| disabled?        | Boolean      | Whether or not the action is disabled. |
| icon?            | IconSource   | Source of the icon. |
| loading?         | Boolean      | Should a spinner be displayed. |
| outline?         | Boolean      | Should action be displayed as an outlined button. |
| plain?           | Boolean      | Should action be displayed as a plain link. |
| onAction?()      | void         | Callback when an action takes place. |
| onMouseEnter?()  | void         | Callback when mouse enter. |
| onTouchStart?()  | void         | Callback when element is touched. |
